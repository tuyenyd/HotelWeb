<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Giá phòng - HotelAdmin</title>
    <link href="assets/img/img.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">
    <!-- CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
    <style>
        .price-card {
            border: 1px solid #e9ecef;
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        .price-card:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .price-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 10px 10px 0 0;
            text-align: center;
        }
        .price-amount {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 0;
        }
        .price-period {
            font-size: 1rem;
            opacity: 0.9;
        }
        .price-features {
            padding: 1.5rem;
        }
        .price-features ul {
            list-style: none;
            padding: 0;
        }
        .price-features li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #f8f9fa;
        }
        .price-features li:last-child {
            border-bottom: none;
        }
        .price-features li i {
            color: #198754;
            margin-right: 0.5rem;
        }
        .season-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: #dc3545;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: bold;
        }
        .pricing-table th {
            background-color: #f8f9fa;
            font-weight: 600;
        }
        .discount-price {
            color: #dc3545;
            text-decoration: line-through;
            font-size: 0.9rem;
        }
        .current-price {
            font-weight: bold;
            color: #198754;
            font-size: 1.1rem;
        }
    </style>
</head>
<body>

<!-- Header và Sidebar giống trang trước -->
<header id="header" class="header fixed-top d-flex align-items-center">

    <div class="d-flex align-items-center justify-content-between">
        <a href="index.html" class="logo d-flex align-items-center">
            <img src="assets/img/logo.png" alt="Logo">
            <span class="d-none d-lg-block">Hotel</span>
        </a>
        <i class="bi bi-list toggle-sidebar-btn"></i>
    </div><div class="search-bar">
    <form class="search-form d-flex align-items-center" method="POST" action="#">
        <input type="text" name="query" placeholder="Tìm kiếm đặt phòng, khách hàng..." title="Nhập từ khóa tìm kiếm">
        <button type="submit" title="Tìm kiếm"><i class="bi bi-search"></i></button>
    </form>
</div><nav class="header-nav ms-auto">
    <ul class="d-flex align-items-center">

        <li class="nav-item d-block d-lg-none">
            <a class="nav-link nav-icon search-bar-toggle " href="#">
                <i class="bi bi-search"></i>
            </a>
        </li><li class="nav-item dropdown">
        <a class="nav-link nav-icon" href="#" data-bs-toggle="dropdown">
            <i class="bi bi-bell"></i>
            <span class="badge bg-primary badge-number">3</span>
        </a><ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow notifications">
        <li class="dropdown-header">
            Bạn có 3 thông báo mới
            <a href="#"><span class="badge rounded-pill bg-primary p-2 ms-2">Xem tất cả</span></a>
        </li>
        <li>
            <hr class="dropdown-divider">
        </li>

        <li class="notification-item">
            <i class="bi bi-exclamation-circle text-warning"></i>
            <div>
                <h4>Đặt phòng mới</h4>
                <p>Khách hàng Nguyễn Văn A vừa đặt phòng Deluxe</p>
                <p>5 phút trước</p>
            </div>
        </li>

        <li>
            <hr class="dropdown-divider">
        </li>

        <li class="notification-item">
            <i class="bi bi-x-circle text-danger"></i>
            <div>
                <h4>Hủy đặt phòng</h4>
                <p>Đặt phòng #2457 đã bị hủy</p>
                <p>2 giờ trước</p>
            </div>
        </li>

        <li>
            <hr class="dropdown-divider">
        </li>

        <li class="notification-item">
            <i class="bi bi-check-circle text-success"></i>
            <div>
                <h4>Phản hồi mới</h4>
                <p>Bạn có 2 đánh giá mới từ khách hàng</p>
                <p>4 giờ trước</p>
            </div>
        </li>

        <li>
            <hr class="dropdown-divider">
        </li>
        <li class="dropdown-footer">
            <a href="#">Hiển thị tất cả thông báo</a>
        </li>
    </ul></li><li class="nav-item dropdown pe-3">

        <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
            <img src="assets/img/profile-img.jpg" alt="Hồ sơ" class="rounded-circle">
            <span class="d-none d-md-block dropdown-toggle ps-2" id="profileName">Đang tải...</span>
        </a>
        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
            <li class="dropdown-header">
                <h6 id="profileDropdownName">...</h6>
                <span id="profileDropdownRole">...</span>
            </li>
            <li>
                <hr class="dropdown-divider">
            </li>

            <li>
                <a class="dropdown-item d-flex align-items-center" href="users-profile.html">
                    <i class="bi bi-person"></i>
                    <span>Hồ sơ của tôi</span>
                </a>
            </li>
            <li>
                <hr class="dropdown-divider">
            </li>

            <li>
                <a class="dropdown-item d-flex align-items-center" href="users-profile.html">
                    <i class="bi bi-gear"></i>
                    <span>Cài đặt tài khoản</span>
                </a>
            </li>
            <li>
                <hr class="dropdown-divider">
            </li>

            <li>
                <a class="dropdown-item d-flex align-items-center" href="#" id="logoutButton">
                    <i class="bi bi-box-arrow-right"></i>
                    <span>Đăng xuất</span>
                </a>
            </li>
        </ul></li></ul>
</nav>
</header><!-- Kết thúc Header -->

<!-- ======= Sidebar ======= -->
<aside id="sidebar" class="sidebar">

    <ul class="sidebar-nav" id="sidebar-nav">

        <li class="nav-item">
            <a class="nav-link collapsed" href="index.html">
                <i class="bi bi-house-door"></i>
                <span>Bảng Điều Khiển</span>
            </a>
        </li><!-- Kết thúc Điều hướng Bảng Điều Khiển -->

        <li class="nav-item">
            <a class="nav-link collapsed" data-bs-target="#booking-nav" data-bs-toggle="collapse" href="#">
                <i class="bi bi-calendar-check"></i><span>Quản lý Đặt phòng</span><i class="bi bi-chevron-down ms-auto"></i>
            </a>
            <ul id="booking-nav" class="nav-content collapse " data-bs-parent="#sidebar-nav">
                <li>
                    <a href="tatcadatphong.html">
                        <i class="bi bi-circle"></i><span>Tất cả đặt phòng</span>
                    </a>
                </li>
                <li>
                    <a href="checkin.html">
                        <i class="bi bi-circle"></i><span>Check-in</span>
                    </a>
                </li>
                <li>
                    <a href="checkout.html">
                        <i class="bi bi-circle"></i><span>Check-out</span>
                    </a>
                </li>
            </ul>
        </li><!-- Kết thúc Điều hướng Đặt phòng -->

        <li class="nav-item">
            <a class="nav-link " data-bs-target="#room-nav" data-bs-toggle="collapse" href="#">
                <i class="bi bi-door-closed"></i><span>Quản lý Phòng</span><i class="bi bi-chevron-down ms-auto"></i>
            </a>
            <ul id="room-nav" class="nav-content collapse show" data-bs-parent="#sidebar-nav">
                <li>
                    <a href="danhsachphong.html">
                        <i class="bi bi-circle"></i><span>Danh sách phòng</span>
                    </a>
                </li>
                <li>
                    <a href="loaiphong.html">
                        <i class="bi bi-circle"></i><span>Loại phòng</span>
                    </a>
                </li>
                <li>
                    <a href="tinhtrangphong.html">
                        <i class="bi bi-circle"></i><span>Tình trạng phòng</span>
                    </a>
                </li>
                <li>
                    <a href="giaphong.html" class="active">
                        <i class="bi bi-circle"></i><span>Giá phòng</span>
                    </a>
                </li>
            </ul>
        </li><!-- Kết thúc Điều hướng Phòng -->

        <li class="nav-item">
            <a class="nav-link collapsed" data-bs-target="#customer-nav" data-bs-toggle="collapse" href="#">
                <i class="bi bi-people"></i><span>Quản lý Khách hàng</span><i class="bi bi-chevron-down ms-auto"></i>
            </a>
            <ul id="customer-nav" class="nav-content collapse " data-bs-parent="#sidebar-nav">
                <li>
                    <a href="danhsachkhachhang.html">
                        <i class="bi bi-circle"></i><span>Danh sách khách hàng</span>
                    </a>
                </li>
                <li>
                    <a href="chuongtrinhthanhvien.html">
                        <i class="bi bi-circle"></i><span>Chương trình thành viên</span>
                    </a>
                </li>
                <li>
                    <a href="danhgia&phanhoi.html">
                        <i class="bi bi-circle"></i><span>Đánh giá & Phản hồi</span>
                    </a>
                </li>
            </ul>
        </li><!-- Kết thúc Điều hướng Khách hàng -->

        <li class="nav-item">
            <a class="nav-link collapsed" href="baocao&thongke.html">
                <i class="bi bi-bar-chart"></i>
                <span>Báo cáo & Thống kê</span>
            </a>
        </li><!-- Kết thúc Điều hướng Báo cáo -->

        <li class="nav-item">
            <a class="nav-link collapsed" data-bs-target="#finance-nav" data-bs-toggle="collapse" href="#">
                <i class="bi bi-cash-coin"></i><span>Tài chính</span><i class="bi bi-chevron-down ms-auto"></i>
            </a>
            <ul id="finance-nav" class="nav-content collapse " data-bs-parent="#sidebar-nav">
                <li>
                    <a href="finance-invoices.html">
                        <i class="bi bi-circle"></i><span>Hóa đơn</span>
                    </a>
                </li>
                <li>
                    <a href="finance-payments.html">
                        <i class="bi bi-circle"></i><span>Thanh toán</span>
                    </a>
                </li>
                <li>
                    <a href="finance-revenue.html">
                        <i class="bi bi-circle"></i><span>Doanh thu</span>
                    </a>
                </li>
            </ul>
        </li><!-- Kết thúc Điều hướng Tài chính -->

        <li class="nav-heading">Trang</li>

        <li class="nav-item">
            <a class="nav-link collapsed" href="users-profile.html">
                <i class="bi bi-person"></i>
                <span>Hồ sơ</span>
            </a>
        </li><!-- Kết thúc Trang Hồ sơ -->

        <li class="nav-item">
            <a class="nav-link collapsed" href="pages-contact.html">
                <i class="bi bi-envelope"></i>
                <span>Liên hệ</span>
            </a>
        </li><!-- Kết thúc Trang Liên hệ -->
        <li class="nav-item">
            <a class="nav-link collapsed" href="users.html">
                <i class="bi bi-person-gear"></i>
                <span>Nhân viên</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link collapsed" href="taikhoan.html">
                <i class="bi bi-person-badge"></i>
                <span>Tài khoản</span>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link collapsed" href="settings.html">
                <i class="bi bi-gear"></i>
                <span>Cài đặt</span>
            </a>
        </li>

    </ul>

</aside><!-- Kết thúc Sidebar -->
<main id="main" class="main">
    <div class="pagetitle d-flex justify-content-between align-items-center">
        <h1>Giá phòng</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Trang chủ</a></li>
                <li class="breadcrumb-item">Quản lý Phòng</li>
                <li class="breadcrumb-item active">Giá phòng</li>
            </ol>
        </nav>
    </div>

    <section class="section">
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h5 class="card-title">Bảng giá phòng</h5>
                            <div>
                                <button class="btn btn-outline-primary me-2">
                                    <i class="bi bi-download"></i> Xuất báo giá
                                </button>
                                <button class="btn btn-success me-2" data-bs-toggle="modal" data-bs-target="#addRoomModal">
                                    <i class="bi bi-plus-circle"></i> Thêm loại phòng
                                </button>
                                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#updatePricingModal">
                                    <i class="bi bi-currency-exchange"></i> Cập nhật giá
                                </button>
                            </div>
                        </div>

                        <!-- Chọn mùa -->
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <label class="form-label">Chọn mùa</label>
                                <select class="form-select" onchange="updateSeasonPrices(this.value)">
                                    <option value="normal" selected>Mùa thường</option>
                                    <option value="peak">Mùa cao điểm</option>
                                    <option value="low">Mùa thấp điểm</option>
                                    <option value="holiday">Lễ, Tết</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Ngày áp dụng</label>
                                <input type="date" class="form-control" value="2024-06-15">
                            </div>
                        </div>

                        <!-- Bảng giá -->
                        <div class="table-responsive">
                            <table class="table table-bordered pricing-table">
                                <thead>
                                <tr>
                                    <th>Loại phòng</th>
                                    <th>Giá cơ bản</th>
                                    <th>Mùa thường</th>
                                    <th>Mùa cao điểm</th>
                                    <th>Mùa thấp điểm</th>
                                    <th>Lễ, Tết</th>
                                    <th>Tuần</th>
                                    <th>Tháng</th>
                                    <th>Thao tác</th>
                                </tr>
                                </thead>
                                <tbody>
                                <!-- Dữ liệu sẽ được render bằng JS -->
                                </tbody>
                            </table>
                        </div>

                        <!-- Chính sách giá -->
                        <div class="row mt-5">
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h6 class="card-title mb-0">Chính sách giá</h6>
                                    </div>
                                    <div class="card-body">
                                        <ul class="list-unstyled">
                                            <li class="mb-2">
                                                <i class="bi bi-check-circle text-success me-2"></i>
                                                Giá đã bao gồm thuế VAT 10%
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check-circle text-success me-2"></i>
                                                Miễn phí trẻ em dưới 5 tuổi
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check-circle text-success me-2"></i>
                                                Phụ thu breakfast: 150.000 VND/người
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check-circle text-success me-2"></i>
                                                Check-in: 14:00, Check-out: 12:00
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h6 class="card-title mb-0">Khuyến mãi hiện tại</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="alert alert-warning">
                                            <h6>Ưu đãi mùa hè</h6>
                                            <p class="mb-1">Giảm 10% cho đặt phòng trước 7 ngày</p>
                                            <small class="text-muted">Áp dụng đến 31/08/2024</small>
                                        </div>
                                        <div class="alert alert-info">
                                            <h6>Combo tuần trăng mật</h6>
                                            <p class="mb-1">Ưu đãi đặc biệt cho cặp đôi</p>
                                            <small class="text-muted">Bao gồm dinner và spa</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<!-- Modal Cập nhật giá -->
<div class="modal fade" id="updatePricingModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Cập nhật giá phòng</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="updatePriceForm">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Loại phòng</label>
                                <select class="form-select" name="roomType" disabled>
                                    <option value="Standard">Standard</option>
                                    <option value="Deluxe">Deluxe</option>
                                    <option value="Suite">Suite</option>
                                    <option value="Family">Family</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Mùa áp dụng</label>
                                <select class="form-select" name="season">
                                    <option value="normal">Mùa thường</option>
                                    <option value="peak">Mùa cao điểm</option>
                                    <option value="low">Mùa thấp điểm</option>
                                    <option value="holiday">Lễ, Tết</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Giá mới (VND/đêm)</label>
                                <input type="number" class="form-control" name="newPrice" placeholder="Nhập giá mới...">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">Ngày áp dụng</label>
                                <input type="date" class="form-control" name="applyDate">
                            </div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Ghi chú</label>
                        <textarea class="form-control" name="note" rows="3" placeholder="Lý do thay đổi giá..."></textarea>
                    </div>
                </form>
                <div id="updatePriceAlert" class="alert alert-success d-none mt-2">Cập nhật giá thành công!</div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                <button type="button" class="btn btn-primary" id="btnUpdatePrice">Cập nhật giá</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Thêm loại phòng -->
<div class="modal fade" id="addRoomModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Thêm loại phòng mới</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="addRoomForm">
                    <div class="mb-3">
                        <label class="form-label">Tên loại phòng</label>
                        <input type="text" class="form-control" name="roomName" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Diện tích (m²)</label>
                        <input type="number" class="form-control" name="roomSize" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Số người</label>
                        <input type="number" class="form-control" name="roomPeople" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Giá cơ bản (VND/đêm)</label>
                        <input type="number" class="form-control" name="roomBasePrice" required>
                    </div>
                </form>
                <div id="addRoomAlert" class="alert alert-success d-none mt-2">Thêm loại phòng thành công!</div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                <button type="button" class="btn btn-success" id="btnAddRoom">Thêm phòng</button>
            </div>
        </div>
    </div>
</div>

<footer id="footer" class="footer">
    <div class="copyright">
        &copy; Bản quyền <strong><span>HotelAdmin</span></strong>. Tất cả các quyền được bảo lưu
    </div>
    <div class="credits">
        Thiết kế bởi <a href="#">Nhóm Phát triển</a>
    </div>
</footer>

<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

<!-- Scripts -->
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/js/main.js"></script>
<script src="assets/js/auth.js"></script>

<script>
    // Dữ liệu giá phòng mẫu
    const roomPrices = {
        Standard: {
            normal: 1200000,
            peak: 1500000,
            low: 1000000,
            holiday: 1800000,
            week: 7500000,
            month: 28000000,
            base: 1200000,
            discount: { peak: 1600000 }
        },
        Deluxe: {
            normal: 1800000,
            peak: 2200000,
            low: 1500000,
            holiday: 2600000,
            week: 12000000,
            month: 45000000,
            base: 1800000,
            discount: { peak: 2300000 }
        },
        Suite: {
            normal: 2500000,
            peak: 3000000,
            low: 2000000,
            holiday: 3500000,
            week: 18000000,
            month: 65000000,
            base: 2500000,
            discount: { peak: 3200000 }
        },
        Family: {
            normal: 3000000,
            peak: 3600000,
            low: 2500000,
            holiday: 4200000,
            week: 21000000,
            month: 78000000,
            base: 3000000,
            discount: { peak: 3800000 }
        }
    };

    // Thêm thông tin mô tả phòng
    const roomInfo = {
        Standard: { people: 2, size: 25 },
        Deluxe: { people: 2, size: 35 },
        Suite: { people: 3, size: 50 },
        Family: { people: 4, size: 60 }
    };

    // Render lại bảng giá phòng
    function renderPriceTable(season = 'normal') {
        const tbody = document.querySelector('.pricing-table tbody');
        tbody.innerHTML = '';
        Object.keys(roomPrices).forEach(room => {
            const data = roomPrices[room];
            let discountHtml = '';
            if (season === 'peak' && data.discount && data.discount.peak) {
                discountHtml = `<small class="discount-price">${data.discount.peak.toLocaleString()}</small>`;
            }
            const info = roomInfo[room] ? `${roomInfo[room].people} người, ${roomInfo[room].size}m²` : '';
            tbody.innerHTML += `
                <tr>
                    <td>
                        <strong>${room}</strong><br>
                        <small class="text-muted">${info}</small>
                    </td>
                    <td>
                        <span class="current-price">${data.base.toLocaleString()}</span><br>
                        <small class="text-muted">VND/đêm</small>
                    </td>
                    <td>${data.normal.toLocaleString()}</td>
                    <td>
                        <span class="current-price">${data.peak.toLocaleString()}</span><br>
                        ${discountHtml}
                    </td>
                    <td>${data.low.toLocaleString()}</td>
                    <td>${data.holiday.toLocaleString()}</td>
                    <td>${data.week.toLocaleString()}</td>
                    <td>${data.month.toLocaleString()}</td>
                    <td>
                        <button class="btn btn-sm btn-outline-warning me-1" onclick="openEditModal('${room}')">
                            <i class="bi bi-pencil"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger" onclick="deleteRoomType('${room}')">
                            <i class="bi bi-trash"></i>
                        </button>
                    </td>
                </tr>
            `;
        });
    }

    // Cập nhật giá theo mùa
    function updateSeasonPrices(season) {
        renderPriceTable(season);
    }

    // Mở modal cập nhật giá với dữ liệu phòng
    function openEditModal(roomType) {
        const modal = document.querySelector('#updatePricingModal');
        const roomSelect = modal.querySelector('select[name="roomType"]');
        roomSelect.value = roomType;
        // Đặt mùa mặc định theo mùa đang chọn ngoài bảng
        const currentSeason = document.querySelector('.form-select[onchange]').value;
        modal.querySelector('select[name="season"]').value = currentSeason;
        // Đặt giá hiện tại vào input
        modal.querySelector('input[name="newPrice"]').value = roomPrices[roomType][currentSeason];
        // Ẩn alert
        document.getElementById('updatePriceAlert').classList.add('d-none');
        // Hiển thị modal bằng Bootstrap
        const bsModal = new bootstrap.Modal(modal);
        bsModal.show();
    }

    // Xử lý cập nhật giá phòng
    function handleUpdatePrice() {
        const modal = document.querySelector('#updatePricingModal');
        const roomType = modal.querySelector('select[name="roomType"]').value;
        const season = modal.querySelector('select[name="season"]').value;
        const newPrice = parseInt(modal.querySelector('input[name="newPrice"]').value, 10);
        if (!roomType || !season || isNaN(newPrice)) {
            alert('Vui lòng nhập đầy đủ thông tin!');
            return;
        }
        roomPrices[roomType][season] = newPrice;
        if (season === 'peak') {
            roomPrices[roomType].discount.peak = newPrice + 100000;
        }
        // Hiển thị alert thành công
        document.getElementById('updatePriceAlert').classList.remove('d-none');
        // Render lại bảng giá theo mùa đang chọn
        renderPriceTable(document.querySelector('.form-select[onchange]').value);
        // Đóng modal sau 1s
        setTimeout(() => {
            const bsModal = bootstrap.Modal.getInstance(modal);
            bsModal.hide();
        }, 1000);
    }

    // Thêm loại phòng mới
    function handleAddRoom() {
        const modal = document.getElementById('addRoomModal');
        const form = document.getElementById('addRoomForm');
        const name = form.roomName.value.trim();
        const size = parseInt(form.roomSize.value, 10);
        const people = parseInt(form.roomPeople.value, 10);
        const basePrice = parseInt(form.roomBasePrice.value, 10);
        if (!name || isNaN(size) || isNaN(people) || isNaN(basePrice)) {
            alert('Vui lòng nhập đầy đủ thông tin!');
            return;
        }
        if (roomPrices[name]) {
            alert('Tên loại phòng đã tồn tại!');
            return;
        }
        roomPrices[name] = {
            normal: basePrice,
            peak: basePrice + 300000,
            low: basePrice - 200000,
            holiday: basePrice + 600000,
            week: basePrice * 6,
            month: basePrice * 24,
            base: basePrice,
            discount: { peak: basePrice + 400000 }
        };
        roomInfo[name] = { people, size };
        document.getElementById('addRoomAlert').classList.remove('d-none');
        renderPriceTable(document.querySelector('.form-select[onchange]').value);
        setTimeout(() => {
            const bsModal = bootstrap.Modal.getInstance(modal);
            bsModal.hide();
            form.reset();
            document.getElementById('addRoomAlert').classList.add('d-none');
        }, 1000);
    }

    // Xóa loại phòng
    function deleteRoomType(roomType) {
        if (confirm(`Bạn có chắc muốn xóa loại phòng "${roomType}"?`)) {
            delete roomPrices[roomType];
            delete roomInfo[roomType];
            renderPriceTable(document.querySelector('.form-select[onchange]').value);
        }
    }

    // Khởi tạo modal form và sự kiện
    document.addEventListener('DOMContentLoaded', function() {
        // Sự kiện nút cập nhật giá
        document.getElementById('btnUpdatePrice').onclick = handleUpdatePrice;
        // Sự kiện nút thêm loại phòng
        document.getElementById('btnAddRoom').onclick = handleAddRoom;
        // Render bảng giá lần đầu
        renderPriceTable();
        // Sự kiện chọn mùa ngoài bảng
        document.querySelector('.form-select[onchange]').onchange = function() {
            renderPriceTable(this.value);
        };
    });
</script>

</body>
</html>
